---
title: "XSS 공격 방어 전략"
categories:
  - Security
tags:
  - Security
  - Backend
  - Database
  - System Protection
toc: true
toc_sticky: true
toc_label: "SQL Injection 문제와 방어 전략"
toc_icon: "magnifier"
---

## 서론
크로스 사이드 스크립팅(XSS)은 웹 어플리케이션에서 발생하는 보안 취약점 중 하나로, 공격자가 악의적인 스크립트를 삽입하여 사용자 브라우저에서 실행시키는 공격입니다. 이에 대한 방어 전략은 프론트엔드와 백엔드 양쪽에서 각별한 주의가 필요합니다.

## XSS 공격 방어 전략
### 프론트엔드에서의 방어
1. 입력 데이터 검증(Validation)
모든 사용자 입력 데이터는 서버에 전달되기 전에 검증되어야 합니다. 이를 통해 악성 스크립트가 서버로 전달되는 것을 방지할 수 있습니다.

2. 문자열 치환(Sanitization)
XSS 취약점은 공격자가 삽입한 악성 스크립트로 인해 발생하기 때문에 입력값 검증을 통해 악성 스크립트가 삽입되는 것을 방지해야 하며, 악성 스크립트가 입력되어도 동작하지 않도록 출력값을 무효화해야 합니다.

    2.1 입력값 필터링

   > 데이터베이스에 악성 스크립트가 저장되는 것을 원천적으로 차단하기 위해 입력값을 필터링합니다. 악성 스크립트가 삽입되어도 동작하지 않도록 출력값을 검증하여 스크립트에 사용되는 특수 문자를 HTML Entity로 치환하여 응답하도록 합니다.

    2.2 외부 라이브러리 활용
      
   > 또한, XSS 필터 관련 외부 라이브러리를 활용하여 입력값을 치환하고 정제하는 방법도 있습니다. 이러한 라이브러리는 보다 간편하게 XSS 공격을 방어할 수 있는 기능을 제공합니다.

### 백엔드에서의 방어
1. 입력 데이터 검증(Validation)
백엔드에서도 입력 데이터를 검증하여 악성 스크립트가 서버로 전달되지 않도록 해야 합니다. 특히, 특정 문자열이나 패턴을 필터링하여 검증하는 과정이 필요합니다.

2. 화이트리스트로 및 CORS로 접근 허용
백엔드는 화이트리스트 방식으로 접근을 제한함으로써 특정 IP나 허용된 도메인에서만 요청을 받도록 설정할 수 있습니다. 불필요한 접근을 막아보안을 강화할 수 있습니다. 또한 CORS (Cross-Origin Resource Sharing)헤더를 통해 어떤 도메인에서 리소스를 요청할 수 있는지를 제한할 수 있습니다. 허용된 도메인 이외에서의 요청은 차단되므로 XSS 공격에 대한 추가적인 방어가 가능합니다.

### 데이터베이스에서의 방어
1. 출력 데이터 검증 및 이스케이프
데이터베이스에서 가져온 정보를 클라이언트에 렌더링할 때, 출력 데이터를 검증하고 필터링하여 악성 스크립트가 클라이언트로 전달되지 않도록 해야 합니다. 클라이언트에 전달되는 데이터를 정확하게 검사하여 허용되지 않은 스크립트나 악성 코드가 포함되어 있지 않도록 확인하며, 특수 문자를 이스케이프하여 안전하게 렌더링되도록 처리해야 합니다. 이러한 방어 전략은 해커가 데이터베이스에 접근한 경우에도 이를 통해 클라이언트 측에서 렌더링 과정에서 XSS 공격을 방어할 수 있습니다.

## 결론
XSS 공격은 프론트엔드, 백엔드, 데이터베이스 각 영역에서 적절한 방어 전략이 필요합니다. 프론트엔드에서는 입력 데이터의 검증과 문자열 치환을 통해 악성 스크립트를 방지하고, 백엔드에서는 입력값 필터링, 화이트리스트 설정, CORS 등으로 공격을 막아야 합니다. 데이터베이스에서는 출력 데이터의 검증과 이스케이프 처리를 통해 클라이언트로 전달되는 정보를 안전하게 보호해야 합니다. 

모든 영역에서의 방어가 통합적으로 강력한 웹 보안을 제공하며, 이를 통해 사용자 정보와 시스템의 안전을 보장할 수 있습니다. 따라서 웹 개발자들은 각 단계에서의 보안 취약점을 인식하고 적절한 대응책을 마련하여 안전한 웹 어플리케이션을 개발해야 합니다.
